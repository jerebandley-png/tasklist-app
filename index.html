<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TaskList</title>
<style>
  body { font-family: Arial, sans-serif; margin: 20px; }
  h1 { text-align: center; }
  table { border-collapse: collapse; width: 100%; margin-top: 20px; }
  th, td { border: 1px solid #ccc; padding: 8px; text-align: left; }
  th { background-color: #f2f2f2; }
</style>
</head>
<body>

<h1>TaskList</h1>

<table id="taskTable">
  <thead>
    <tr>
      <th>Start Date</th>
      <th>End Date</th>
      <th>Title</th>
      <th>Description</th>
      <th>Status</th>
    </tr>
  </thead>
  <tbody>
    <!-- Task rows will go here -->
  </tbody>
</table>

<script>
  // Fetch the JSON file
  fetch('tasklist.json')
    .then(response => {
      if (!response.ok) throw new Error('Failed to fetch tasklist.json');
      return response.json();
    })
    .then(data => {
      // Sort tasks by StartDate ascending
      data.sort((a, b) => new Date(a.StartDate) - new Date(b.StartDate));

      const tbody = document.querySelector('#taskTable tbody');
      data.forEach(task => {
        const tr = document.createElement('tr');

        const startDate = task.StartDate ? new Date(task.StartDate).toLocaleDateString() : '';
        const endDate = task.EndDate ? new Date(task.EndDate).toLocaleDateString() : '';

        tr.innerHTML = `
          <td>${startDate}</td>
          <td>${endDate}</td>
          <td>${task.Title || ''}</td>
          <td>${task.Description || ''}</td>
          <td>${task.Status || ''}</td>
        `;
        tbody.appendChild(tr);
      });
    })
    .catch(err => {
      console.error(err);
      const tbody = document.querySelector('#taskTable tbody');
      tbody.innerHTML = '<tr><td colspan="5">Failed to load TaskList JSON.</td></tr>';
    });
</script>

</body>
</html>
